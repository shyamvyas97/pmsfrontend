{"version":3,"sources":["webpack:///./src/app/components/permission/addpermission/addpermission.component.css","webpack:///./src/app/components/permission/addpermission/addpermission.component.html","webpack:///./src/app/components/permission/addpermission/addpermission.component.ts","webpack:///./src/app/components/permission/listpermission/listpermission.component.css","webpack:///./src/app/components/permission/listpermission/listpermission.component.html","webpack:///./src/app/components/permission/listpermission/listpermission.component.ts","webpack:///./src/app/components/permission/permission-routing.module.ts","webpack:///./src/app/components/permission/permission.module.ts"],"names":[],"mappings":"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","file":"components-permission-permission-module.js","sourcesContent":["module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcGVybWlzc2lvbi9hZGRwZXJtaXNzaW9uL2FkZHBlcm1pc3Npb24uY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"container\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-3\\\">\\n      {{mode}} permission<br>\\n      <a routerLink=\\\"/bug\\\">List Permissions</a>\\n      <br><br><br>Add/Edit<br>View<br>Delete\\n    </div>\\n    <div class=\\\"col-md-6\\\">\\n      <form [formGroup]=\\\"createPermission\\\" name=\\\"createPermission\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n\\n        <mat-form-field class=\\\"field-full-width\\\">\\n          <mat-select formControlName=\\\"entity_name\\\" placeholder=\\\"Entities\\\" required #entity_name>\\n            <mat-option *ngFor=\\\"let entity of entities\\\" [value]=\\\"entity._id\\\">{{entity.entity_name}}</mat-option>\\n          </mat-select>\\n        </mat-form-field>\\n\\n        <br>\\n\\n        <mat-form-field class=\\\"field-full-width\\\">\\n          <mat-select formControlName=\\\"role_name\\\" placeholder=\\\"Roles\\\" required multiple #role_name>\\n            <mat-option *ngFor=\\\"let role of roles\\\" [value]=\\\"role._id\\\">{{role.name}}</mat-option>\\n          </mat-select>\\n        </mat-form-field>\\n\\n        <br>\\n\\n        <mat-radio-group aria-label=\\\"Set Add/Edit Permission\\\" formControlName=\\\"add_edit\\\">\\n          <mat-radio-button value=\\\"1\\\">Yes</mat-radio-button>\\n          <mat-radio-button value=\\\"0\\\">No</mat-radio-button>\\n        </mat-radio-group>\\n\\n        <br>\\n\\n        <mat-radio-group aria-label=\\\"Set View Permission\\\" formControlName=\\\"list\\\">\\n          <mat-radio-button value=\\\"1\\\">Yes</mat-radio-button>\\n          <mat-radio-button value=\\\"0\\\">No</mat-radio-button>\\n        </mat-radio-group>\\n\\n        <br>\\n\\n        <mat-radio-group aria-label=\\\"Set Delete Permission\\\" formControlName=\\\"del\\\">\\n          <mat-radio-button value=\\\"1\\\">Yes</mat-radio-button>\\n          <mat-radio-button value=\\\"0\\\">No</mat-radio-button>\\n        </mat-radio-group>\\n\\n        <br>\\n\\n        <button type=\\\"submit\\\" [disabled]=\\\"!createPermission.valid\\\" mat-raised-button color=\\\"primary\\\">Add Permission\\n        </button>\\n      </form>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n    </div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Role } from '../../../models/role';\nimport { Entity } from '../../../models/entity';\nimport { HttpService } from '../../../http.service';\n\n@Component({\n  selector: 'app-addpermission',\n  templateUrl: './addpermission.component.html',\n  styleUrls: ['./addpermission.component.css']\n})\nexport class AddpermissionComponent implements OnInit {\n\n  submitted = false;\n  private formSubmitAttempt: boolean;\n  roles: Role[];\n  entities: Entity[];\n  createPermission: FormGroup;\n  mode: string = 'Add';\n  entity_name;\n  role_name;\n  add_edit;\n  del;\n  list;\n\n  constructor(private httpService: HttpService, private fb: FormBuilder, private router: Router, private route: ActivatedRoute) {\n    this.createPermission = this.fb.group({\n      entity_name: ['', Validators.required],\n      role_name: ['', Validators.required],\n      add_edit: ['', Validators.required],\n      del: ['', Validators.required],\n      list: ['', Validators.required]\n    });\n  }\n\n  ngOnInit() {\n    this.fetchRoles();\n    this.fetchEntities();\n\n    let id = this.route.snapshot.params[\"id\"];\n\n    if (id) {\n      this.permissionsList(id);\n      this.mode = \"Edit\";\n    }\n    else {\n      this.mode = \"Create\";\n      this.validator();\n    }\n  }\n\n  permissionsList(id) {\n    this.httpService.doGet(\"permissions/\" + id).subscribe((res: any) => {\n      this.entity_name = res.entity_name;\n      this.role_name = res.role_name;\n      this.add_edit = res.add_edit;\n      this.del = res.del;\n      this.list = res.list;\n      this.validator();\n    });\n  }\n\n  getc() { return this.createPermission.controls; }\n\n  fetchRoles() {\n    this.httpService.doGet('roles')\n      .subscribe((data: Role[]) => {\n        this.roles = data;\n        console.log('Data requested ...');\n        console.log(this.roles);\n      });\n  }\n\n  fetchEntities() {\n    this.httpService.doGet('entities')\n      .subscribe((req_data: Entity[]) => {\n        this.entities = req_data;\n        console.log(this.entities);\n      });\n  }\n\n  validator() {\n    this.createPermission = this.fb.group({\n      entity_name: [this.entity_name],\n      role_name: [this.role_name],\n      add_edit: [this.add_edit],\n      del: [this.del],\n      list: [this.list]\n    })\n  }\n\n  onSubmit() {\n    this.submitted = true;\n    let that = this;\n    let id = this.route.snapshot.params[\"id\"];\n    if (!id) {\n      // console.log(id);\n      if (!this.createPermission.invalid) {\n        console.log(this.createPermission.value);\n        this.httpService.doPost(\"permission/add\", this.createPermission.value)\n          .subscribe(\n            () => {\n              that.router.navigate([\"permission\"]);\n            });\n      }\n    }\n    else {\n      this.httpService.doPatch(\"permissions/\" + id, this.createPermission.value)\n        .subscribe(\n          () => {\n            that.router.navigate([\"permission\"]);\n          });\n    }\n    this.formSubmitAttempt = true;\n  }\n\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcGVybWlzc2lvbi9saXN0cGVybWlzc2lvbi9saXN0cGVybWlzc2lvbi5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<a routerLink=\\\"/permission/addpermission\\\">Add Permission</a>\\n<div>\\n  <div class=\\\"card-body\\\">\\n    <table class=\\\"table table-bordered\\\">\\n      <tr>\\n        <!-- <th>#</th> -->\\n        <th>Entity</th>\\n        <th>Role</th>\\n        <th>Add/Edit</th>\\n        <th>List</th>\\n        <th>Delete</th>\\n        <th>Actions</th>\\n      </tr>\\n      <tr *ngFor=\\\"let permission of permissions\\\">\\n        <td>\\n          <div *ngFor=\\\"let entity of permission.entity_name\\\">{{entity.entity_name}}</div>\\n        </td>\\n        <td>\\n          <div *ngFor=\\\"let role of permission.role_name\\\">{{role.name}}</div>\\n        </td>\\n        <td>{{permission.add_edit}}</td>\\n        <td>{{permission.list}}</td>\\n        <td>{{permission.del}}</td>\\n        <td>\\n          <a routerLink=\\\"addpermission/{{permission._id}}\\\">Edit</a>&nbsp;\\n          <a href=\\\"javascript:;\\\" (click)=\\\"deletePermission($event)\\\" data-id=\\\"{{permission._id}}\\\">Delete</a>\\n        </td>\\n      </tr>\\n    </table>\\n  </div>\\n\\n\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HttpService } from '../../../http.service';\nimport { Permission } from '../../../models/permission';\n\n@Component({\n  selector: 'app-listpermission',\n  templateUrl: './listpermission.component.html',\n  styleUrls: ['./listpermission.component.css']\n})\nexport class ListpermissionComponent implements OnInit {\n\n  permissions: Permission[];\n  constructor(private httpService: HttpService, private router: Router) { }\n\n  ngOnInit() {\n    this.getPermissions();\n  }\n\n  getPermissions() {\n    this.httpService.doGet(\"permissions\").subscribe((res: Permission[]) => {\n      this.permissions = res;\n    });\n    console.log(this.permissions);\n  }\n\n  deletePermission($event) {\n    let id = $event.target.id;\n    let that = this;\n    this.httpService.doDel(\"permissions/\" + id).subscribe(res => {\n      that.getPermissions();\n    });\n  }\n\n  addPermission() {\n    this.router.navigate(['addpermission']);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AddpermissionComponent } from './addpermission/addpermission.component';\nimport { ListpermissionComponent } from './listpermission/listpermission.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListpermissionComponent\n  },\n  {\n    path: 'addpermission',\n    component: AddpermissionComponent\n  },\n  {\n    path: 'addpermission/:id',\n    component: AddpermissionComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PermissionRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule }   from '@angular/forms';\nimport { MatToolbarModule, MatFormFieldModule, MatInputModule, MatDatepickerModule, MatOptionModule, MatSelectModule, MatIconModule, MatButtonModule, MatRadioModule, MatCardModule, MatTableModule, MatDividerModule, MatSnackBarModule, MatNativeDateModule, MatPaginator, MatPaginatorModule } from '@angular/material';\nimport { PermissionRoutingModule } from './permission-routing.module';\nimport { AddpermissionComponent } from './addpermission/addpermission.component';\nimport { ListpermissionComponent } from './listpermission/listpermission.component';\n\n@NgModule({\n  declarations: [AddpermissionComponent, ListpermissionComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    PermissionRoutingModule,\n    MatToolbarModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatOptionModule,\n    MatSelectModule,\n    MatIconModule,\n    MatButtonModule,\n    MatRadioModule,\n    MatCardModule,\n    MatTableModule,\n    MatDividerModule\n  ]\n})\nexport class PermissionModule { }\n"],"sourceRoot":""}